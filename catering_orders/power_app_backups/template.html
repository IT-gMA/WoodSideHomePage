<div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px; background: rgb(193, 255, 15);"></div>
<div class="row sectionBlockLayout text-left" style="display: flex; flex-wrap: wrap; margin: 0px; min-height: auto; padding: 8px;">
  <div class="container" style="display: flex; flex-wrap: wrap;">
    <div class="col-md-12 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 300px; padding: 16px;">
      <div class="pull-right" style="margin-bottom: 10px; display: flex;"><button onclick="window.location.href='/Catering-Order-Edit'" type="button" id="Navigate" value="Catering-Order-Edit" class="c-button c-button--primary" style="margin-left: auto; margin-right: 0;">Select Quantities</button></div>
      {% entityform name: 'Catering Matrix Menu' %}
    </div>
  </div>
  <button type="button" data-toggle="modal" data-target="#myModal" id="Catering" class="btn btn-info btn-lg">Fill Details</button> &gt;<!-- Modal -->
  <div class="col-md-12 columnBlockLayout" style="flex-grow: 1; min-width: 300px; display: flex; flex-direction: column;">{% include 'entity_list' key: '' %}</div>
  <div id="myModal" role="dialog" class="modal fade">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" data-dismiss="modal" class="close">Ã—</button>
          <h4 class="modal-title">Previously selected menu found</h4>
        </div>
        <div class="modal-body"><h4>If you would like to continue with the newly selected menu click Continue</h4></div>
        <div class="modal-footer"><button type="button" data-dismiss="modal" onclick="RunPowerAutomateFlowClearCart()" class="btn btn-primary">Continue</button><button type="button" data-dismiss="modal" onclick="RunPowerAutomateFlowContinue()" class="btn btn-default">Close</button></div>
      </div>
    </div>
  </div>
  <div class="row sectionBlockLayout text-left" style="display: flex; flex-wrap: wrap; margin: 0px; min-height: auto; padding: 8px;">
    <div class="container" style="padding: 0px; display: flex; flex-wrap: wrap;"><div class="col-md-12 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 300px;">{% include 'entity_list' key: '' %}</div></div>
  </div>
  <div class="row sectionBlockLayout text-left" style="display: flex; flex-wrap: wrap; margin: 0px; min-height: auto; padding: 8px;">
    <div class="container" style="padding: 0px; display: flex; flex-wrap: wrap;"><div class="col-md-12 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 300px;"></div></div>
  </div>
</div>
<script type="text/javascript">
  var myHeaders = new Headers();
  myHeaders.append("Content-Type", "text/plain");

  var QueryValue ='<span data-editorblocktype="Liquid" data-liquidexpressionvalue="e3t1c2VyLmlkfX0=">id</span>'
  var raw = "{\r\n\"contact\":" + "\"" + QueryValue +"\"" + "\r\n\}";
  var requestOptions = {
    method: 'POST',
    headers: myHeaders,
    body: raw,
    redirect: 'follow'
  };

  function RunPowerAutomateFlowClearCart()
  {
  var link = 'https://prod-07.australiasoutheast.logic.azure.com:443/workflows/672d1bbb039146e7b19cfe59b2074fd7/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=fQLZMRoDkbJWM23r75QVk8_zLPWY7YhuCdBzCzhAtlI';
  //console.log(link);

  fetch(link, requestOptions)
    .then(response => response.text())
    .then(result => console.log(result))
    .catch(error => console.log('error', error));
    setTimeout(() => {    $(".view-grid th:first a:first").trigger("click"); }, 5000);
    setTimeout(() => {$("#Navigate").show()}, 5000);

  }
  function RunPowerAutomateFlowContinue()
  {
  var link = '';
  console.log(link);

  fetch(link, requestOptions)
    .then(response => response.text())
    .then(result => console.log(result))
    .catch(error => console.log('error', error));
    setTimeout(() => {    $(".view-grid th:first a:first").trigger("click"); }, 5000);
    setTimeout(() => {$("#Navigate").show()}, 5000);
  }
</script>
